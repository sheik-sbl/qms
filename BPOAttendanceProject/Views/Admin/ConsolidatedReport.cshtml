 
@model BPOAttendanceProject.Models.PecodeModel

@using System.Data;

   
<div class="page-container" style="margin-top: 20px">
    <!-- BEGIN SIDEBAR -->
    <div class="row">
        <div class="col-md-12">
            <!-- BEGIN EXAMPLE TABLE PORTLET-->
            <div class="portlet light bordered">
                <div class="m-heading-1 border-green m-bordered ">
                    <div class="caption font-dark">
                        <span class="caption-subject bold uppercase">Reports</span>
                    </div>
                </div>

  
     

   <div class="portlet-body">
                            <ul class="nav nav-tabs">
                                            <li class="active"><a href="#tab_1_1" data-toggle="tab">Daily Production </a> </li>
                                            <li><a href="#tab_1_2" data-toggle="tab"> Monthly Production  </a> </li>
                                            <li><a href="#tab_1_3" data-toggle="tab"> Yearly Production  </a> </li>
                                           
                            </ul>

       <div class="tab-content">
             <div class="tab-pane fade active in" id="tab_1_1">
              
                             <div class="portlet-body">
                                  @if (@TempData["Msg"] != null)
                            {
                                <div class="alert alert-info" id="MsgDiv">
                                    <button type="button" class="close" data-dismiss="alert"><i class="ace-icon fa fa-times"></i></button>
                                    @TempData["Msg"]
                                </div>
                            }


                   
                                <div class="form-horizontal">
                                    <div class="form-body">
                                        <div class="row">
                                           
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                     <label class="col-md-3 control-label">Date</label>
                                                    <div class="col-md-9">
                                                    <div class="input-group date date-picker" data-date-format="dd/mm/yyyy">
                                                      @Html.TextBoxFor(model => model.Startdate, new { @class = "form-control", @placeholder = "Date", @autocomplete = "off", @required = "true", @id = "startdate" })
@*                                                      <div class="input-group date date-picker"> <input type="text" class="form-control" id="ddatepicker" /></div>*@
                                                       <span class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </span>
                                                    </div>


                                                    </div>
                                                </div>
                                             
                                                  <div class="form-group">
                                                    <label class="col-md-3 control-label">Event Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
@*                                                       @Html.DropDownList("EventCodes", (IEnumerable<SelectListItem>)ViewBag.EventCodes, "ALL", new { @class = "form-control", @id = "drpevent" })*@
                                                        <select class="form-control" id="ddlevent" name="ddlevent"  style = "width: 100%;"  onchange = "BindTLbyEvent();" ><option>ALL</option> </select>
                                                        </div>


                                                    </div>
                                                </div> 
                                            </div>
                                            <div class="col-md-3">
                                                   <div class="form-group">
                                                    <label class="col-md-3 control-label">Location</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "KAKKANAD", Value = "6"},       
                                                                                                         new SelectListItem { Text = "MNS", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "MQC", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "MDS", Value = "3"},
                                                                                                         new SelectListItem { Text = "KNPY", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "TVM", Value = "1"}                  
                                                                                                        
                                                                                                     }, "Value", "Text"), "ALL",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpLocation" , @onchange = "BindClientTL();"})



                                                        </div>


                                                    </div>
                                                       
                                                </div>

                                                  <div class="form-group">
                                                    <label class="col-md-3 control-label">Process</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id, new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "Indexing", Value = "6"},       
                                                                                                         new SelectListItem { Text = "Qc2", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "Qc3", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "Audit", Value = "3"},
                                                                                                         new SelectListItem { Text = "UAT", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "Training", Value = "1"},                  
                                                                                                          new SelectListItem { Text = "Rework", Value = "1"}, 
                                                                                                     }, "Value", "Text"), "ALL", new { style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpProcess" ,@onchange ="BindTLbyProcess();"})


                                                      

                                                        </div>

                                                         
                                                    </div>
                                                </div>

                                                 
                                               
                                             

                                                

                                            </div>
                                            <div class="col-md-3">

                                                


                                                   <div class="form-group">
                                                    <label class="col-md-3 control-label">Client Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>

                                                         <select class="form-control" id="drpclient" name="drpclient"  style = "width: 100%;", onchange = "GetProjectcode(this.value);" > </select>

                                                            
                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                        
                                                 

                                                    <div class="form-group">
                                                    <label class="col-md-3 control-label">TL</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                      
@*                                                          @Html.DropDownList("TLs", (IEnumerable<SelectListItem>)ViewBag.TLs, "ALL", new { @class = "form-control", @id = "drptl"})*@
                                                           <select class="form-control" id="drpdailyTL" name="drpdailyTL"  style = "width: 100%;", onchange = "GetResource();" ><option>ALL</option> </select>

                                                        </div>


                                                    </div>
                                                </div>




                                                   <div class="form-group">         
                                                     <label><input type="checkbox" onclick="onClickHandler();" id="chkINR" checked="checked" >INR</label>
                                                     <label><input type="checkbox" onclick="onClickHandler();" id="chkETO" >ETO</label>
                                                   </div> 
                                                
                                            </div>
                                            <div class="col-md-3">

                                                  <div class="form-group">
                                                    <label class="col-md-3 control-label">Project Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
@*                                                        @Html.DropDownListFor(model => model.Id, new SelectList(Model.PecodeModelList, "Id", "pecode", "Select"), "Select Projectcode", new { @class = "form-control", @placeholder = "Project", @autocomplete = "off", @id = "drpproject" })*@

                                                        <select  class="form-control"  id="ddlproject" name="ddlproject"  style = "width: 100%;" onchange = "BindEventTL();"  ><option>ALL</option> </select>



@*                                                       @Html.DropDownList("ProjectCodes", (IEnumerable<SelectListItem>)ViewBag.ProjectCodes, "ALL", new { @class = "form-control", @id = "drpproject", @onchange = "GetEvent(this.value);" })*@

                                                        </div>


                                                    </div>

                                                    
                                                </div>




                                               
                                                   <div class="form-group">
                                                    <label class="col-md-3 control-label">Associate</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
@*                                                        @Html.DropDownListFor(model => model.Id, new SelectList(Model.PecodeModelList, "Id", "pecode", "Select"), "Select Projectcode", new { @class = "form-control", @placeholder = "Project", @autocomplete = "off", @id = "drpproject" })*@

                                                        <select class="form-control"  id="drpdailyresource" name="drpdailyresource"  style = "width: 100%;"  ><option>ALL</option> </select>



@*                                                       @Html.DropDownList("ProjectCodes", (IEnumerable<SelectListItem>)ViewBag.ProjectCodes, "ALL", new { @class = "form-control", @id = "drpproject", @onchange = "GetEvent(this.value);" })*@

                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                                   
                                            </div>
                                            <div class="col-md-9">
                                          
                                            <div class="btn-group">
                                            <button id="pprint" class="btn sbold green" onclick="DailyconsolidatedProductionReport()">
                                               Ok
                                            </button>
                                            </div>

                                             <div class="btn-group">
                                                <button id="cancel" class="btn sbold green" onclick="DailyCancel()">
                                                    Cancel
                                                <i class="fa fa-cancel"></i>
                                                </button>
                                                 </div>
                                       


                                            </div>
                                        
                                      
                                        
                                        </div>

                                        </div>
                                    </div>
                                </div>
                             <div style="height:15px;"></div>
                          
                             <div id="reportlist"> </div>
                             <div id="projectreport" class="modal fade bs-modal-lg container " tabindex="-1" > </div> 
                            <div id="wait" style="display:none;width:69px;height:89px;border:1px solid black;position:absolute;top:45%;left:40%;padding:2px;"><img src='../assets/pages/img/demo_wait.gif' width="64" height="64" /><br>Loading..</div>
             
             </div>

             <div class="tab-pane fade" id="tab_1_2">
              
                             <div class="portlet-body">
                                  @if (@TempData["Msg"] != null)
                            {
                                <div class="alert alert-info" id="MsgDiv">
                                    <button type="button" class="close" data-dismiss="alert"><i class="ace-icon fa fa-times"></i></button>
                                    @TempData["Msg"]
                                </div>
                            }


                   
                                <div class="form-horizontal">
                                    <div class="form-body">
                                        <div class="row">
                                           
                                            <div class="col-md-3">

                                                 <div class="form-group">
                                                    <label class="col-md-3 control-label">Month</label>
                                                    <div class="col-md-9">
                                                         <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                   
                                                      @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> { 
                                                                                                         new SelectListItem { Text = "January", Value = "1"}, 
                                                                                                         new SelectListItem { Text = "February", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "March", Value = "3"}, 
                                                                                                         new SelectListItem { Text = "April", Value = "4"},                   
                                                                                                         new SelectListItem { Text = "May", Value = "5"},
                                                                                                         new SelectListItem { Text = "June", Value = "6"}, 
                                                                                                         new SelectListItem { Text = "July", Value = "7"}, 
                                                                                                         new SelectListItem { Text = "August", Value = "8"}, 
                                                                                                         new SelectListItem { Text = "September", Value = "9"},                   
                                                                                                         new SelectListItem { Text = "October", Value = "10"},
                                                                                                         new SelectListItem { Text = "November", Value = "11"},
                                                                                                         new SelectListItem { Text = "December", Value = "12"}
                                                                                                     }, "Value", "Text"), "Select",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpMonth",@onchange="BindClientcodebaseMonthyear();"  })
                                                       
                                                       
                                                    </div>


                                                    
                                                </div>

                                                  </div>

                                               
                                                 <div class="form-group">
                                                    <label class="col-md-3 control-label">Project Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
@*                                                        @Html.DropDownListFor(model => model.Id, new SelectList(Model.PecodeModelList, "Id", "pecode", "Select"), "Select Projectcode", new { @class = "form-control", @placeholder = "Project", @autocomplete = "off", @id = "drpproject" })*@

                                                 
                                                        <select  class="form-control"     id="ddlmonthproject" name="ddlmonthproject"  style = "width: 100%;"  onchange = "BindMonthEventTL();" > </select>

                                                        </div>


                                                    </div>

                                                    
                                                </div>

                                                 <div class="form-group">
                                                    <label class="col-md-3 control-label">Associate</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
@*                                                        @Html.DropDownListFor(model => model.Id, new SelectList(Model.PecodeModelList, "Id", "pecode", "Select"), "Select Projectcode", new { @class = "form-control", @placeholder = "Project", @autocomplete = "off", @id = "drpproject" })*@

                                                        <select  class="form-control"  id="drpmonthlyResource" name="drpmonthlyResource"  style = "width: 100%;"  ><option>ALL</option> </select>



@*                                                       @Html.DropDownList("ProjectCodes", (IEnumerable<SelectListItem>)ViewBag.ProjectCodes, "ALL", new { @class = "form-control", @id = "drpproject", @onchange = "GetEvent(this.value);" })*@

                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                                
                                            </div>
                                            <div class="col-md-3">
                                                 <div class="form-group">
                                                    <label class="col-md-3 control-label">Year</label>
                                                    <div class="col-md-9">
                                                         <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                   
                                                      @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> {
                                                                                                          new SelectListItem { Text = "2021", Value = "1"}, 
                                                                                                         new SelectListItem { Text = "2020", Value = "2"},
                                                                                                         new SelectListItem { Text = "2019", Value = "3"},
                                                                                                     }, "Value", "Text"), "Select",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpYear" ,@onchange="BindClientcodebaseMonthyear();" })
                                                       
                                                       
                                                    </div>


                                                    
                                                </div>

                                                  </div>

                                                 <div class="form-group">
                                                    <label class="col-md-3 control-label">Event Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        <select  class="form-control"   id="ddlmonthevent" name="ddlevent"  style = "width: 100%;"  onchange = "BindMonthTLbyEvent();" } > </select>
                                                        </div>


                                                    </div>
                                                </div> 
                                                <div class="form-group">           
                                                 <label><input type="checkbox" onclick="onClickHandler();" id="chkMonthINR" checked="checked" >INR</label>
                                                 <label><input type="checkbox" onclick="onClickHandler();" id="chkMonthETO">ETO</label>
                                                </div> 
                                                 
                                            </div>
                                            <div class="col-md-3" id="projectlist">

                                               <div class="form-group">
                                                    <label class="col-md-3 control-label">Location</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "KAKKANAD", Value = "6"},       
                                                                                                         new SelectListItem { Text = "MNS", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "MQC", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "MDS", Value = "3"},
                                                                                                         new SelectListItem { Text = "KNPY", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "TVM", Value = "1"},                  
                                                                                                         
                                                                                                     }, "Value", "Text"), "ALL",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpMonthLocation", @onchange = "BindMonthlyClientTL();" })



                                                        </div>


                                                    </div>
                                                </div>

                                              <div class="form-group">
                                                    <label class="col-md-3 control-label">Process</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id, new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "Indexing", Value = "6"},       
                                                                                                         new SelectListItem { Text = "Qc2", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "Qc3", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "Audit", Value = "3"},
                                                                                                         new SelectListItem { Text = "UAT", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "Training", Value = "1"},                  
                                                                                                          new SelectListItem { Text = "Rework", Value = "1"}, 
                                                                                                     }, "Value", "Text"), "ALL", new { style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpMonthProcess",@onchange ="BindmonthTLbyProcess();"})


                                                      

                                                        </div>


                                                    </div>
                                                </div>
                                        

                                                

                                            </div>
                                            <div class="col-md-3">
                                                      <div class="form-group">
                                                    <label class="col-md-3 control-label">Client Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                        <select class="form-control" id="drpmonthclient" name="drpmonthclient"  style = "width: 100%;", onchange = "GetMonthProjectcode();" > </select>


                                                     
                                                       
                                                             </div>


                                                    </div>

                                                    
                                                </div>
                                                      <div class="form-group">
                                                    <label class="col-md-3 control-label">TL</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                      
@*                                                          @Html.DropDownList("TLs", (IEnumerable<SelectListItem>)ViewBag.TLs, "ALL", new { @class = "form-control", @id = "drptl"})*@
                                                         <select id="drpmonthlyTL" name="drpmonthlyTL"  class="form-control"  style = "width: 100%;", onchange = "GetMonthlyResource();" > </select>

                                                        </div>


                                                    </div>
                                                </div>

                                            </div>
                                           


                                       <div class="col-md-9">
                                            
                                              <div class="btn-group">
                                                <button id="monthcancel" class="btn sbold green" onclick="MonthlyCancel()">
                                                    Cancel
                                                <i class="fa fa-cancel"></i>
                                                </button>
                                             </div>

                                            
                                              <div class="btn-group">
                                                <button id="monthly" class="btn sbold green" onclick="MonthlyReport()">
                                                    Daily Report
                                                </button>
                                                </div>
                                               

                                             
                                             <div class="btn-group">
                                                <button id="summary" class="btn sbold green" onclick="SummaryReport()">
                                                    Summary Report
                                                </button>
                                                </div>
                                          
                                            

                                       


                                            </div>

                           
                                        
                                        </div>
                                        </div>
                                    </div>
                                </div>
                         
                             <div style="height:15px;"></div>
                             
                            <div id="reportmonthlist"> </div>




                            
                            <div id="monthwait" style="display:none;width:69px;height:89px;border:1px solid black;position:absolute;top:50%;left:50%;padding:2px;"><img src='../assets/pages/img/demo_wait.gif' width="64" height="64" /><br>Loading..</div>
             
             </div>

             <div class="tab-pane fade" id="tab_1_3">
              
                            <div class="portlet-body">
                                  @if (@TempData["Msg"] != null)
                            {
                                <div class="alert alert-info" id="MsgDiv">
                                    <button type="button" class="close" data-dismiss="alert"><i class="ace-icon fa fa-times"></i></button>
                                    @TempData["Msg"]
                                </div>
                            }


                   
                                <div class="form-horizontal">
                                    <div class="form-body">
                                        <div class="row">
                                           
                                            
                                            <div class="col-md-3">

                                              <div class="form-group">
                                                    <label class="col-md-3 control-label">Year</label>
                                                    <div class="col-md-9">
                                                         <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                   
                                                      @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> {
                                                                                                        new SelectListItem { Text = "2021 -2022", Value = "2021-2022"}, 
                                                                                                         new SelectListItem { Text = "2020 -2021", Value = "2020-2021"},
                                                                                                         new SelectListItem { Text = "2019-2020", Value = "2019-2020"},
                                                                                                     }, "Value", "Text"), "Select",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpYYear"  })
                                                       
                                                       
                                                    </div>


                                                    
                                                </div>

                                                  </div>
                                                
                                               <div class="form-group">
                                                    <label class="col-md-3 control-label">Event Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        <select id="ddlyearevent" name="ddlyearevent"    class="form-control"  style = "width: 100%;"  onchange = "BindYearTLbyEvent();"   > </select>
                                                        </div>


                                                    </div>
                                                </div> 
                                                 
                                            </div>
                                            <div class="col-md-3" id="projectlisttt">

                                              <div class="form-group">
                                                    <label class="col-md-3 control-label">Location</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id , new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "KAKKANAD", Value = "6"},       
                                                                                                         new SelectListItem { Text = "MNS", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "MQC", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "MDS", Value = "3"},
                                                                                                         new SelectListItem { Text = "KNPY", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "TVM", Value = "1"},                  
                                                                                                         
                                                                                                     }, "Value", "Text"), "ALL",new {style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpyearLocation" , @onchange = "BindYearClientTL();"   })



                                                        </div>


                                                    </div>
                                                </div>
                                              <div class="form-group">
                                                    <label class="col-md-3 control-label">Process</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                            @Html.DropDownListFor(m => m.Id, new SelectList(new List<SelectListItem> {
                                                                                                         new SelectListItem { Text = "Indexing", Value = "6"},       
                                                                                                         new SelectListItem { Text = "Qc2", Value = "5"}, 
                                                                                                         new SelectListItem { Text = "Qc3", Value = "4"}, 
                                                                                                         new SelectListItem { Text = "Audit", Value = "3"},
                                                                                                         new SelectListItem { Text = "UAT", Value = "2"}, 
                                                                                                         new SelectListItem { Text = "Training", Value = "1"},                  
                                                                                                          new SelectListItem { Text = "Rework", Value = "1"}, 
                                                                                                     }, "Value", "Text"), "ALL", new { style = "width: 100%;", @required = "required", @class = "btn dropdown-toggle btn-default", @autocomplete = "off", @id = "drpyearProcess" ,@onchange="BindyearTLbyProcess"})


                                                      

                                                        </div>


                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-md-3" >

                                                     <div class="form-group">
                                                    <label class="col-md-3 control-label">Client Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>


                                                        
                                                         <select class="form-control" id="drpyearclient" name="drpyearclient"  style = "width: 100%;", onchange = "GetYearProjectcode();" > </select>

                                                        
                                                        
                                                        
                                                        
                                                        
                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                                 
                                                     <div class="form-group">
                                                    <label class="col-md-3 control-label">TL</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        
                                                      
                                                         <select id="ddlyearTL" name="ddlyearTL"  class="form-control"  style = "width: 100%;", onchange = "GetyearlyResource();" > </select>

                                                        </div>


                                                    </div>
                                                </div>
                                                 
                                                 
                                                  
                                               
                                                 

                                                      <div class="form-group">           
                                                     <label><input type="checkbox" onclick="onClickHandler();" id="chkyearINR" checked="checked" >INR</label>
                                                     <label><input type="checkbox" onclick="onClickHandler();" id="chkyearETO">ETO</label>
                                                    </div> 
                                            </div>
                                            <div class="col-md-3">

                                            <div class="form-group">
                                                    <label class="col-md-3 control-label">Project Code</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>
                                                        

                                                 
                                                        <select id="ddlyearproject" name="ddlyearproject"    class="form-control"  style = "width: 100%;" onchange = "BindYearEventTL();"  > </select>

                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                                 
                                            <div class="form-group">
                                                    <label class="col-md-3 control-label">Associate</label>
                                                    <div class="col-md-9">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope"></i>
                                                            </span>

                                                        <select  class="form-control"  id="ddlyearresource" name="ddlyearresource"  style = "width: 100%;"  ><option>ALL</option> </select>

                                                        </div>


                                                    </div>

                                                    
                                                </div>
                                            
                                            </div> 

                                             
                                        <div class="col-md-9">
                                            
                                                <div class="btn-group">
                                                <button id="empwise" class="btn sbold green" onclick="YearlyReport()">
                                                    Ok
                                                </button>
                                                </div>
                                               

                                             <div class="btn-group">
                                                <button id="yearcancel" class="btn sbold green" onclick="YearlyCancel()">
                                                    Cancel
                                                <i class="fa fa-cancel"></i>
                                                </button>
                                             </div>
                                          
                                            

                                       


                                            </div>

                          
                                        
                                        </div>
                                        </div>
                                    </div>
                                </div>              
                            <div style="height:15px;"></div>
                           
                            <div id="reportyearlist"> </div>
                            <div id="yearwait" style="display:none;width:69px;height:89px;border:1px solid black;position:absolute;top:35%;left:35%;padding:2px;"><img src='../assets/pages/img/demo_wait.gif' width="64" height="64" /><br>Loading..</div>
             
             </div>
       </div>

         
 </div>

    
 </div>

 </div>

</div>
   

 </div>

@*<script src="@Url.Content("~/Scripts/jquery-ui-1.8.17.custom.min.js")" type="text/javascript"></script>
<!--[if lt IE 8]>
<script src="@Url.Content("~/Scripts/json2.js")" type="text/javascript"></script>
<![endif]-->*@
<script>
    jQuery(document).ready(function () {


        //var date1 = new Date();
        //var month = date1.getMonth() + 1;
        //var year = date1.getFullYear();
       
        //getEvents(month, year);


        var pathurl = '@Url.Action("BindLastproddate", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {},
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                
                $("#wait").css("display", "none");
                $("#startdate").datepicker({
                    format: 'dd/mm/yyyy',
                    minDate: 0,
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1,


                });
                
                //var date = new Date();
                //var date = new Date(parseInt(data.proddate.substr(6)))
                //date.setTime(date.getTime() - (1000 * 60 * 60 * 24))
                var date = new Date(data);
                $('#startdate').datepicker("setDate", date);
                $('#startdate').datepicker({ autoclose: true });
                
            }
        });





        




        var pathurl = '@Url.Action("BindClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                  

                    if (data[x].Text) {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpclient").html(markup).show();
                $("#drpmonthclient").html(markup).show();
                $("#drpyearclient").html(markup).show();
            }
        });


        




        var pathurl = '@Url.Action("BindTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpdailyTL").html(markup).show();
                $("#drpmonthlyTL").html(markup).show();
                $("#ddlyearTL").html(markup).show();
            }
        });





        var pathurl = '@Url.Action("BindEvent", "Admin")';
         $.ajax({
             url: pathurl,
             type: 'POST',
             data: {

                 ProjectId: 'ALL'
             },
             success: function (data) {
                 $("#wait").css("display", "none");
                 var markup = "<option value='0'>ALL</option>";
                 for (var x = 0; x < data.length; x++) {
                     if (data[x].Text != "undefined") {
                         markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                     }
                 }
                 $("#ddlevent").html(markup).show();
                 $("#ddlmonthevent").html(markup).show();
                 $("#ddlyearevent").html(markup).show();
             }
         });

         var pathurl = '@Url.Action("BindProjectdaily", "Admin")';
         $.ajax({
             url: pathurl,
             type: 'POST',
             data: {

                 Clientcode: 'ALL',
                 fromdate: $('#startdate').val(),
                 Location: 'ALL'
             },
             success: function (data) {
                 $("#wait").css("display", "none");
                 var markup = "<option value='0'>ALL</option>";
                 for (var x = 0; x < data.length; x++) {
                     if (data[x].Text != "undefined") {
                         markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                     }
                 }
                 $("#ddlproject").html(markup).show();
                 $("#ddlmonthproject").html(markup).show();
                 $("#ddlyearproject").html(markup).show();
             }
         });





    });


    function YearlyCancel() {

        $('#ddlyearevent').get(0).selectedIndex = 0;
        $('#drpyearLocation').get(0).selectedIndex = 0;
        $('#drpyearProcess').get(0).selectedIndex = 0;
        $('#drpyearclient').get(0).selectedIndex = 0;
        $('#ddlyearTL').get(0).selectedIndex = 0;
        $('#ddlyearproject').get(0).selectedIndex = 0;
        $('#ddlyearresource').get(0).selectedIndex = 0;
        $("#reportyearlist").html("");


        var pathurl = '@Url.Action("BindClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {


                    if (data[x].Text) {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpyearclient").html(markup).show();

            }
        });







        var pathurl = '@Url.Action("BindTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlyearTL").html(markup).show();

            }
        });





        var pathurl = '@Url.Action("BindEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlyearevent").html(markup).show();

            }
        });

        var pathurl = '@Url.Action("BindProjectdaily", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Clientcode: 'ALL',
                fromdate: $('#startdate').val(),
                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlyearproject").html(markup).show();

            }
        });






    }



  

    function MonthlyCancel() {
       
        $('#ddlmonthevent').get(0).selectedIndex = 0;
        $('#drpMonthLocation').get(0).selectedIndex = 0;
        $('#drpMonthProcess').get(0).selectedIndex = 0;
        $('#drpmonthclient').get(0).selectedIndex = 0;
        $('#drpmonthlyTL').get(0).selectedIndex = 0;
        $('#ddlmonthproject').get(0).selectedIndex = 0;
        $('#drpmonthlyResource').get(0).selectedIndex = 0;
        $('#drpMonth').get(0).selectedIndex = 0;
        $('#drpYear').get(0).selectedIndex = 0;
        $("#reportmonthlist").html("");


        var pathurl = '@Url.Action("BindClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {


                    if (data[x].Text) {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpmonthclient").html(markup).show();

            }
        });







        var pathurl = '@Url.Action("BindTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpmonthlyTL").html(markup).show();

            }
        });





        var pathurl = '@Url.Action("BindEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlmonthevent").html(markup).show();

            }
        });

        var pathurl = '@Url.Action("BindProjectdaily", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Clientcode: 'ALL',
                fromdate: $('#startdate').val(),
                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlmonthproject").html(markup).show();

            }
        });



    }



   



    function DailyCancel() {

        $('#ddlevent').get(0).selectedIndex = 0;
        $('#drpLocation').get(0).selectedIndex = 0;
        $('#drpProcess').get(0).selectedIndex = 0;
        $('#drpclient').get(0).selectedIndex = 0;
        $('#drpdailyTL').get(0).selectedIndex = 0;
        $('#ddlproject').get(0).selectedIndex = 0;
        $('#drpdailyresource').get(0).selectedIndex = 0;
        $("#reportlist").html("");


        var pathurl = '@Url.Action("BindClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {


                    if (data[x].Text) {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpclient").html(markup).show();
               
            }
        });







        var pathurl = '@Url.Action("BindTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#drpdailyTL").html(markup).show();
               
            }
        });





        var pathurl = '@Url.Action("BindEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: 'ALL'
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }
                $("#ddlevent").html(markup).show();
               
            }
        });

        var pathurl = '@Url.Action("BindProjectdaily", "Admin")';
         $.ajax({
             url: pathurl,
             type: 'POST',
             data: {

                 Clientcode: 'ALL',
                 fromdate: $('#startdate').val(),
                 Location: 'ALL'
             },
             success: function (data) {
                 $("#wait").css("display", "none");
                 var markup = "<option value='0'>ALL</option>";
                 for (var x = 0; x < data.length; x++) {
                     if (data[x].Text != "undefined") {
                         markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                     }
                 }
                 $("#ddlproject").html(markup).show();
              
             }
         });
        
      

    }




   
   
    function BindClientTL() {
      
        BindClientbyLocation();
        BindTLbyLocation();
        BindDailyProject();
        GetResource();
       
    }

    function BindEventTL() {
        GetEvent();
        BindTLbyProject();


    }

    function BindMonthEventTL() {
        GetMonthEvent();
        BindMonthTLbyProject();


    }




    

    function BindYearEventTL() {
        GetYearEvent();
        BindyearTLbyProject();


    }

    




    function BindyearTLbyProject() {
        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindyearTLbyProject", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpyearLocation option:selected").text(),
                Clientcode: $("#drpyearclient option:selected").text(),
                Projectcode: $("#ddlyearproject option:selected").text(),
                Year: $("#drpYear option:selected").text()
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                            markup = "<option value='0'>ALL</option>";
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlyearTL").html(markup).show();

                //$("#ddlyearevent").html(markup).show();
            }
        });



    }



    function BindMonthTLbyProject() {
        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthTLbyProject", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Projectcode: $("#ddlmonthproject option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                            markup = "<option value='0'>ALL</option>";
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpmonthlyTL").html(markup).show();

                //$("#ddlyearevent").html(markup).show();
            }
        });



    }




    function BindTLbyProject() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyProject", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpLocation option:selected").text(),
                Clientcode:$("#drpclient option:selected").text(),
                Projectcode:$("#ddlproject option:selected").text()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpdailyTL").html(markup).show();
               
                //$("#ddlyearevent").html(markup).show();
            }
        });



    }

    function BindMonthTLbyEvent() {
        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthTLbyEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Projectcode: $("#ddlmonthproject option:selected").text(),
                Eventcode: $("#ddlmonthevent option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        
                          
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpmonthlyTL").html(markup).show();

                //$("#ddlyearevent").html(markup).show();
            }
        });



    }




    function BindTLbyEvent() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpLocation option:selected").text(),
                Clientcode: $("#drpclient option:selected").text(),
                Projectcode: $("#ddlproject option:selected").text(),
                Eventcode: $("#ddlevent option:selected").text(),
                fromdate: $('#startdate').val()

            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0)
                {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++)
                    {
                    markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                       
                    }
                }
                else
                {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpdailyTL").html(markup).show();
               
            }
        });



    }

    function BindTLbyProcess() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyProcess", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpLocation option:selected").text(),
                Clientcode: $("#drpclient option:selected").text(),
                Projectcode: $("#ddlproject option:selected").text(),
                Eventcode: $("#ddlevent option:selected").text(),
                Process: $("#drpProcess option:selected").text(),
                fromdate: $('#startdate').val()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpdailyTL").html(markup).show();

                //$("#ddlyearevent").html(markup).show();
            }
        });



    }

    function BindmonthTLbyProcess() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthTLbyProcess", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Projectcode: $("#ddlmonthproject option:selected").text(),
                Eventcode: $("#ddlmonthevent option:selected").text(),
                Process: $("#drpMonthProcess option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                          
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpmonthlyTL").html(markup).show();

                //$("#ddlyearevent").html(markup).show();
            }
        });



    }




    function BindClientbyLocation()
    {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpLocation option:selected").text(),
                fromdate: $('#startdate').val(),
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    $("#ddlproject").html(markup).show();
                    $("#ddlevent").html(markup).show();
                    $("#drpdailyTL").html(markup).show();
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                    $("#ddlproject").html(markup).show();
                    $("#ddlevent").html(markup).show();
                    $("#drpdailyTL").html(markup).show();

                }
                $("#drpclient").html(markup).show();
                $("#drpmonthclient").html(markup).show();
                $("#drpyearclient").html(markup).show();
            }
        });



    }

    function BindTLbyLocation() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyLocationDate", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {
                     startDate: $('#startdate').val(),
                     Location: $("#drpLocation option:selected").text()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpdailyTL").html(markup).show();
                //$("#ddlyearevent").html(markup).show();
            }
        });



    }


    function BindDailyProject() {
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindDailyProjectbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpLocation option:selected").text(),
                fromdate: $('#startdate').val(),
            },
            success: function (data) {
              
                $("#wait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                }
                $("#ddlproject").html(markup).show();

            }
        });



    }


    






    function BindYearClientbyLocation() {
       
        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindyearClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpyearLocation option:selected").text(),
                year: $("#drpYYear option:selected").text()
        
       
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }

                $("#drpyearclient").html(markup).show();
                
            }
        });



    }



    function BindYearTLbyLocation() {
       
        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpyearLocation option:selected").text()
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }

                $("#ddlyearTL").html(markup).show();
                
            }
        });



    }





    function BindYearClientTL() {
       
        BindYearClientbyLocation();
        BindYearTLbyLocation()

    }




    function BindMonthlyClientTL() {
        BindMonthlyClientbyLocation();
        GetMonthProjectcode()
        BindMonthlyTLbyLocation()
    }


    function BindMonthlyClientbyLocation() {
        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthlyClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text(),
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }


                $("#drpmonthclient").html(markup).show();
               
            }
        });



    }

    function BindMonthlyTLbyLocation() {
        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthlyTLbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()
               
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                            
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                
                $("#drpmonthlyTL").html(markup).show();
                
            }
        });



    }

    

    function GetyearlyResource() {

        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindYearlyTLbyResource", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                tl: $("#ddlyearTL option:selected").text(),
                Year: $("#drpYYear option:selected").text(),
                Location: $("#drpyearLocation option:selected").text()
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlyearresource").html(markup).show();

            }
        });

    }




    function GetMonthlyResource() {

        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthlyTLbyResource", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                TL: $("#drpmonthlyTL option:selected").text(),
                Location: $("#drpMonthLocation option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Projectcode: $("#ddlmonthproject option:selected").text(),
                Eventcode: $("#ddlmonthevent option:selected").text(),
                Process: $("#drpMonthProcess option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()





            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpmonthlyResource").html(markup).show();

            }
        });

    }







    function GetResource() {

        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindTLbyResource", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                tl: $("#drpdailyTL option:selected").text(),
                fromdate: $('#startdate').val(),
                Location: $("#drpLocation option:selected").text(),
                ProjectId: $("#ddlproject option:selected").text(),
                Clientcode: $("#drpclient option:selected").text(),
                Eventcode: $("#ddlevent option:selected").text(),
                Process: $("#drpProcess option:selected").text()
            },
            success: function (data) {
               
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#drpdailyresource").html(markup).show();

            }
        });

    }



    function GetProjectcode(clientcode) {
        
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindProjectdaily", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Clientcode: $("#drpclient option:selected").text(),
                fromdate: $('#startdate').val(),
                Location: $("#drpLocation option:selected").text()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlproject").html(markup).show();

            }
        });

    }

    function GetMonthProjectcode() {

        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthProjectcode", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {
                Location:$("#drpMonthLocation option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text()
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                          
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlmonthproject").html(markup).show();
              

            }
        });

    }

    function GetYearProjectcode() {

        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindYearProjectcode", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Clientcode: $("#drpyearclient option:selected").text(),
                Year: $("#drpYYear option:selected").text()
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                            
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlyearproject").html(markup).show();


            }
        });

    }






    function GetEvent() {

        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("BindEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: $("#ddlproject option:selected").text(),
                fromdate: $('#startdate').val(),
                Clientcode: $("#drpclient option:selected").text()
            },
            success: function (data) {
                $("#wait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlevent").html(markup).show();
              
               

            }
        });

    }


    function GetMonthEvent() {

        $("#monthwait").css("display", "block");
        var pathurl = '@Url.Action("BindMonthEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: $("#ddlmonthproject option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Clientcode: $("#drpmonthclient option:selected").text(),
                Year: $("#drpYear option:selected").text(),
                Location: $("#drpMonthLocation option:selected").text()
            },
            success: function (data) {
                $("#monthwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }
                $("#ddlmonthevent").html(markup).show();
              

            }
        });

    }


    function GetYearEvent() {

        $("#yearwait").css("display", "block");
        var pathurl = '@Url.Action("BindYearEvent", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                ProjectId: $("#ddlyearproject option:selected").text(),
                Clientcode: $("#drpyearclient option:selected").text(),
                Year: $("#drpYYear option:selected").text()
            },
            success: function (data) {
                $("#yearwait").css("display", "none");
                var markup;
                if (data.length > 0) {
                    markup = "<option value='0'>ALL</option>";
                    for (var x = 0; x < data.length; x++) {
                        if (data[x].Text) {
                           
                            markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                        }
                    }
                }
                else {
                    markup = "<option value='0'>No Data</option>";
                }

               
                $("#ddlyearevent").html(markup).show();

            }
        });

    }


    function ProjectwiseProductionReport() {
        var date = $('#from').val();
        $("#wait").css("display", "block");
        var pathurl = '@Url.Action("ProjectwiseDailyReport", "Admin")';
            $.ajax({
                url: pathurl,
                type: 'GET',
                data: {
                    date: $('#startdate').val(),
                    LocationId: $("#drpLocation option:selected").text(),
                    Clientcode: $("#drpclient option:selected").text(),
                    ProjectId: $("#ddlproject option:selected").text(),
                    Eventcode: $("#ddlevent option:selected").text(),
                    Process: $("#drpProcess option:selected").text(),
                    TL: $("#drpdailyTL option:selected").text(),
                    Resource: $("#drpdailyresource option:selected").text()

                },
                success: function (data) {
                    $("#wait").css("display", "none");
                    $("#projectreport").html(data);
                }
            });
    }




 
    function DailyconsolidatedProductionReport()
    {
        
       
        var date = $('#from').val();
            $("#wait").css("display", "block");
            var pathurl = '@Url.Action("DailyReport", "Admin")';
            $.ajax({
                url: pathurl,
                type: 'GET',
                data: {
                    date: $('#startdate').val(),
                    LocationId: $("#drpLocation option:selected").text(),
                    Clientcode: $("#drpclient option:selected").text(),
                    ProjectId: $("#ddlproject option:selected").text(),
                    Eventcode: $("#ddlevent option:selected").text(),
                    Process: $("#drpProcess option:selected").text(),
                    TL: $("#drpdailyTL option:selected").text(),
                    Resource: $("#drpdailyresource option:selected").text()
 
                },



                success: function (data) {
                    $("#wait").css("display", "none");
                    $("#reportlist").html(data);
                }
            });
    }

    function SummaryReport() {
        var a = $("#drpMonth option:selected").text();
        var b = $("#drpYear option:selected").text();

        if (a == "Select", b == "Select") {
            alert("Please Fill All Required Field");
            return false;
        }
        else {

            $("#monthwait").css("display", "block");
            var pathurl = '@Url.Action("MonthlySummaryReport", "Admin")';
            $.ajax({
                url: pathurl,
                type: 'GET',
                data: {
                    Month: $("#drpMonth option:selected").text(),
                    Year: $("#drpYear option:selected").text(),
                    Location: $("#drpMonthLocation option:selected").text(),
                    Clientcode: $("#drpmonthclient option:selected").text(),
                    ProjectId: $("#ddlmonthproject option:selected").text(),
                    Eventcode: $("#ddlmonthevent option:selected").text(),
                    Process: $("#drpMonthProcess option:selected").text(),
                    TL: $("#drpmonthlyTL option:selected").text(),
                    Associate: $("#drpmonthlyResource option:selected").text()

                },
                success: function (data) {
                    $("#monthwait").css("display", "none");
                    $("#reportmonthlist").html(data);

                }
            });
        }
    }


    
    function MonthlyReport() {
        var a = $("#drpMonth option:selected").text();
        var b = $("#drpYear option:selected").text();

        if (a == "Select", b == "Select") {
            alert("Please Fill All Required Field");
            return false;
        }
        else {

            $("#monthwait").css("display", "block");
            var pathurl = '@Url.Action("MonthlyProductionReport", "Admin")';
            $.ajax({
                url: pathurl,
                type: 'GET',
                data: {
                    Month: $("#drpMonth option:selected").text(),
                    Year: $("#drpYear option:selected").text(),
                    Location: $("#drpMonthLocation option:selected").text(),
                    Clientcode: $("#drpmonthclient option:selected").text(),
                    ProjectId: $("#ddlmonthproject option:selected").text(),
                    Eventcode: $("#ddlmonthevent option:selected").text(),
                    Process: $("#drpMonthProcess option:selected").text(),
                    TL: $("#drpmonthlyTL option:selected").text(),
                    Associate: $("#drpmonthlyResource option:selected").text()

                },
                success: function (data) {
                    $("#monthwait").css("display", "none");
                    $("#reportmonthlist").html(data);

                }
            });
        }
    }


    function YearlyReport() {

        var b = $("#drpYYear option:selected").text();
       
        if (b == "Select") {
            alert("Please Fill All Required Field");
            return false;
        }
        else {

            $("#yearwait").css("display", "block");
            var pathurl = '@Url.Action("YearlyProductionReport", "Admin")';
            $.ajax({
                url: pathurl,
                type: 'GET',
                data: {

                    Year: $("#drpYYear option:selected").text(),
                    Location: $("#drpyearLocation option:selected").text(),
                    Clientcode: $("#drpyearclient option:selected").text(),
                    ProjectId: $("#ddlyearproject option:selected").text(),
                    Eventcode: $("#ddlyearevent option:selected").text(),
                    Process: $("#drpyearProcess option:selected").text(),
                    TL: $("#ddlyearTL option:selected").text(),
                    Associate: $("#ddlyearresource option:selected").text()
                },
                success: function (data) {
                    $("#yearwait").css("display", "none");
                    $("#reportyearlist").html(data);

                }
            });
        }


    }

    function BindClientcodebaseMonthyear()
    {
        BindclientMonthyear();
        Bindprojectmonthyear();
        BindMonthlyAssociate();
    }


    function BindMonthlyAssociate() {

        var pathurl = '@Url.Action("BindMonthlyAssociate", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text(),
            },
            success: function (data) {

                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }

                $("#drpmonthlyResource").html(markup).show();

            }
        });




    }




    function BindclientMonthyear() {

        var pathurl = '@Url.Action("BindMonthlyClientbyLocation", "Admin")';
        $.ajax({
            url: pathurl,
            type: 'POST',
            data: {

                Location: $("#drpMonthLocation option:selected").text(),
                Month: $("#drpMonth option:selected").text(),
                Year: $("#drpYear option:selected").text(),
            },
            success: function (data) {

                var markup = "<option value='0'>ALL</option>";
                for (var x = 0; x < data.length; x++) {
                    if (data[x].Text != "undefined") {
                        markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                    }
                }

                $("#drpmonthclient").html(markup).show();

            }
        });




    }

    function Bindprojectmonthyear() {
       
        var pathurl = '@Url.Action("BindMonthProjectcode", "Admin")';
         $.ajax({
             url: pathurl,
             type: 'POST',
             data: {
                 Location: $("#drpMonthLocation option:selected").text(),
                 Clientcode: $("#drpmonthclient option:selected").text(),
                 Month: $("#drpMonth option:selected").text(),
                 Year: $("#drpYear option:selected").text()
             },
             success: function (data) {
                 var markup = "<option value='0'>ALL</option>";
                 for (var x = 0; x < data.length; x++) {
                     if (data[x].Text != "undefined") {
                         markup += "<option value=" + data[x].Text + ">" + data[x].Text + "</option>";
                     }
                 }
                 $("#ddlmonthproject").html(markup).show();


             }
         });
    }


</script>
